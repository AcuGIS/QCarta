/* --- Design tokens ------------------------------------------------------- */
:root{
  --bg:#f5f7fb;
  --surface:#fff;
  --surface-soft:#f7f8fa;
  --border:#e5e7eb;
  --text:#1f2937;
  --muted:#6b7280;
  --brand:#2563eb;        /* primary */
  --brand-600:#1d4ed8;    /* hover  */
  --brand-50:#eff6ff;     /* subtle */
  --shadow:0 6px 28px rgba(0,0,0,.08), 0 2px 6px rgba(0,0,0,.04);
  --radius:12px;
  --radius-sm:8px;
}

/* --- Base ---------------------------------------------------------------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  padding:24px;
  background:var(--bg);
  color:var(--text);
  font:15px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
}

/* --- App header ---------------------------------------------------------- */
#content h1, .app-header{
  margin:0 auto 18px;
  max-width:1200px;
  padding:16px 20px;
  background:linear-gradient(180deg, var(--brand), var(--brand-600));
  color:#fff !important;
  border-radius:14px;
  box-shadow:var(--shadow);
  font-size:20px !important;
  font-weight:600;
  letter-spacing:.2px;
}

/* --- Shell --------------------------------------------------------------- */
.sql-container{
  max-width:1200px;
  /* margin:0 auto; */
  background:var(--surface);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:24px;
  display:flex;
  gap:24px;
  align-items:flex-start;
}

/* Sidebar (tables) -------------------------------------------------------- */
.tables-list{
  width:300px; flex-shrink:0;
  background:var(--surface-soft);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:18px 14px;
  box-shadow:0 1px 8px rgba(0,0,0,.04);
}

.tables-list h3{
  margin:4px 6px 12px;
  font-size:13px; text-transform:uppercase; letter-spacing:.6px;
  color:var(--muted); font-weight:700;
}

.search-box{
  width:100%;
  margin:0 0 12px;
  padding:9px 11px;
  border:1px solid var(--border);
  border-radius:8px;
  background:#fff;
  color:var(--text);
  font-size:14px;
}

.table-list-item{
  padding:6px 6px;
  border-bottom:1px dashed #eef1f4;
  cursor:pointer;
}
.table-list-item:last-child{border-bottom:0}
.table-header{
  display:flex; align-items:center; gap:8px;
  padding:6px 4px; border-radius:8px;
  font-weight:600; color:#111827; position:relative;
}
.table-header::before{
  content:'?'; font-size:12px; color:#9aa3af; margin-right:2px; transition:transform .18s;
}
.table-header.expanded{background:var(--brand-50)}
.table-header.expanded::before{transform:rotate(90deg)}
.column-list{
  display:none; margin:6px 0 2px 18px; padding:6px 8px;
  border-left:2px solid var(--border); background:#fafcff; border-radius:0 0 0 8px;
}
.column-list.show{display:block}
.column-item{
  padding:4px 6px; border-radius:6px; color:#4b5563; font-size:13px;
}
.column-item:hover{background:#eef2f7}

/* Main content ------------------------------------------------------------ */
.main-content{flex:1; min-width:0}

/* Toolbar (service select + connect button) ------------------------------- */
.toolbar{display:flex; gap:10px; align-items:center; margin:0 0 16px}
label{font-weight:600; color:#374151; font-size:14px}
select,
input[type="text"],
input[type="number"]{
  appearance:none;
  padding:10px 12px;
  border:1px solid var(--border);
  border-radius:8px;
  background:#fff;
  color:var(--text);
  font:inherit;
  box-shadow:0 1px 0 rgba(0,0,0,.02);
}
select:focus,
input:focus,
textarea:focus{outline:none; border-color:var(--brand); box-shadow:0 0 0 3px rgba(37,99,235,.15)}

button,
.vqb-btn{
  padding:10px 16px;
  background:var(--brand);
  color:#fff; border:0; border-radius:10px; cursor:pointer;
  font-weight:600; letter-spacing:.2px;
  box-shadow:0 4px 14px rgba(37,99,235,.18);
  transition:transform .04s ease, background .15s ease, box-shadow .15s ease;
}
button:hover,.vqb-btn:hover{background:var(--brand-600); box-shadow:0 6px 18px rgba(29,78,216,.22)}
button:active{transform:translateY(1px)}

/* Tabs -------------------------------------------------------------------- */
.tab-bar{display:flex; gap:8px; margin:6px 0 14px; border-bottom:1px solid var(--border)}
.tab-btn{
  appearance:none; background:transparent; border:0;
  padding:10px 14px; border-radius:10px 10px 0 0; color:var(--muted);
  font-weight:600; cursor:pointer;
}
.tab-btn:hover{color:var(--text)}
.tab-btn.active{
  color:#111827; background:#fff; border:1px solid var(--border); border-bottom-color:#fff;
}

/* SQL editor -------------------------------------------------------------- */
.sql-label{display:block; margin:0 0 6px; color:var(--muted); font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
.sql-input, #vqb-sql{
  width:100%; min-height:120px; resize:vertical;
  padding:16px;
  background:#0f172a; color:#e5e7eb;
  border:1px solid #0b1222; border-radius:10px;
  font:14px/1.45 ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.02);
}

/* Results ----------------------------------------------------------------- */
.results{margin-top:18px; overflow-x:auto}
table{width:100%; border-collapse:separate; border-spacing:0; background:#fff; border:1px solid var(--border); border-radius:10px; overflow:hidden}
th,td{padding:10px 12px; border-bottom:1px solid #eef1f4; white-space:nowrap; color:#000000}
th{background:#f9fafb; font-weight:700; color:#111827; position:sticky; top:0}
tr:nth-child(even) td{background:#fcfdff}
tr:hover td{background:#f6f9ff}
.error{
  background:#fef2f2; color:#7f1d1d; border:1px solid #fecaca; border-radius:10px; padding:12px 14px; margin:12px 0
}
.success{
  background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; border-radius:10px; padding:12px 14px; margin:12px 0
}

/* Visual Query Builder ---------------------------------------------------- */
#vqb-canvas{
  width:100%; min-height:380px; background:#f8fbff;
  border:1px dashed var(--border); border-radius:10px; margin:10px 0 16px; overflow:auto; position:relative
}
.vqb-table{
  position:absolute; min-width:190px; background:#fff; border:1px solid #cdd6e3; border-radius:10px;
  box-shadow:0 6px 20px rgba(0,0,0,.08); padding:8px; cursor:move
}
.vqb-table-header{
  font-weight:700; color:#111827; padding:8px 12px; background:#f3f6fb; border-bottom:1px solid var(--border); border-radius:8px 8px 0 0
}
.vqb-columns{padding:8px 12px}
.vqb-column{padding:4px 6px; border-radius:6px; color:#374151}
.vqb-column:hover{background:#eef2f7}

/* Responsive -------------------------------------------------------------- */
@media (max-width: 980px){
  .sql-container{flex-direction:column}
  .tables-list{width:100%}
}

/* Keep your prior custom rules below if needed ---------------------------- */

/* Reserve space for the fixed admin sidebar */
:root { --left-nav-width: 260px; } /* adjust if your menu is wider/narrower */

@media (min-width: 1024px){
  /* Push this page's content to the right of the left menu */
  body { 
    padding-left: calc(var(--left-nav-width) + 24px) !important; /* 24px is your page padding */
  }
}

/* On narrow screens, let content use full width (menu likely overlays) */
@media (max-width: 1023px){
  body { padding-left: 24px !important; }
}


/* Tabs visibility */
.tab-content{ display:none; }
.tab-content.active{ display:block; }

/* Optional: active tab button style if not already present */
.tab-btn.active{
  color:#111827;
  background:#fff;
  border:1px solid #e5e7eb;
  border-bottom-color:#fff;
  border-radius:10px 10px 0 0;
}


/* Collapse the canvas when the VQB tab isn't active */
#content-vqb #vqb-canvas{
  min-height:0;
  margin:0;
  border:0;
}

/* Expand/styled only when that tab is actually shown
#content-vqb.active #vqb-canvas{
  min-height:380px;
  margin:10px 0 16px;
  border:1px dashed var(--border);
  border-radius:10px;
  background:#f8fbff;
  position:relative;
  overflow:auto;
}  */



#content-vqb #vqb-canvas{ min-height:0; margin:0; border:0 }

/* expand only when canvas has content */
#content-vqb.active #vqb-canvas.has-content{
  min-height:380px;
  margin:10px 0 16px;
  border:1px dashed var(--border);
  border-radius:10px;
  background:#f8fbff;
  position:relative;
  overflow:auto;
}

/* optional helper text when empty but tab is open */
#content-vqb.active #vqb-canvas:not(.has-content)::before{
  content:"Add a table to start";
  position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  color:var(--muted); font-size:14px;
}

